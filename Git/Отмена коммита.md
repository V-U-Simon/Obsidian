---
aliases: [ ]
created: 2022.04.27 10:21:32 am
modified: 2022.04.29 7:58:05 pm
---
#applicationüõ†/Git‚è≥
#üèÉ/cancel

>[!cite]- Source
>- ‚≠ê [–û—Ç–º–µ–Ω–∞ –∫–æ–º–º–∏—Ç–æ–≤ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π](https://www.atlassian.com/ru/git/tutorials/undoing-changes)

>[!example]- Index
>
> - git checkout
> - clean
> - revert
> - reset
> - rm

>[!danger]  –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω—è–µ–º—ã–µ –∫–æ–º–º–∏—Ç—ã –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö –∫–æ–º–º–∏—Ç–æ–≤
>
>–ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ –∫–æ–º–º–∏—Ç—ã –ø–æ —Å—É—Ç–∏ —è–≤–ª—è—é—Ç—Å—è –Ω–æ–≤—ã–º–∏ –∫–æ–º–º–∏—Ç–∞–º–∏.
>–ü—Ä–∏ —ç—Ç–æ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–π –∫–æ–º–º–∏—Ç –Ω–µ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –≤ —Ç–µ–∫—É—â–µ–π –≤–µ—Ç–∫–µ.
>–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è —ç—Ç–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã —Å–±—Ä–æ—Å—É (reset) –ø—É–±–ª–∏—á–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–æ–¥–∞.
>–ù–µ –∏–∑–º–µ–Ω—è–π—Ç–µ –∫–æ–º–º–∏—Ç, –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä–æ–≥–æ —É–∂–µ –Ω–∞—á–∞–ª–∏ —Ä–∞–±–æ—Ç—É –¥—Ä—É–≥–∏–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏. –≠—Ç–∞ —Å–∏—Ç—É–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ –∑–∞–ø—É—Ç–∞–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, –∏ —Ä–∞–∑—Ä–µ—à–∏—Ç—å –µ–µ –±—É–¥–µ—Ç –Ω–µ–ø—Ä–æ—Å—Ç–æ.

–ó–∞–¥–∞—á–∞ - –æ—Ç–º–µ–Ω–∞ –∫–æ–º–º–∏—Ç–∞¬†`872fa7e Try something crazy`.

```Bash
git log --oneline
# 872fa7e Try something crazy
# a1e8fb5 Make some important changes to hello.txt
# 435b61d Create hello.txt
# 9773e52 Initial import
```

# –æ—Ç–º–µ–Ω–∞ –∫–æ–º–º–∏—Ç–∞ —Å –ø–æ–º–æ—â—å—é `git checkout`

- –ø–µ—Ä–µ–≤–µ–¥–µ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ—Ç–∫—Ä–µ–ø–ª–µ–Ω–Ω–æ–≥–æ —É–∫–∞–∑–∞—Ç–µ–ª—è¬†HEAD
- –≤—Å–µ –Ω–æ–≤—ã–µ –∫–æ–º–º–∏—Ç—ã –±—É–¥—É—Ç –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è –±–µ–∑ —Ä–æ–¥–∏—Ç–µ–ª—è

```Bash
git checkout a1e8fb5 # –ø–µ—Ä–µ–π—Ç–∏ –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É –∫–æ–º–º–∏—Ç—É
git checkout -b new_branch_without_crazy_commit # –Ω–æ–≤–∞—è –≤–µ—Ç–∫–∞
```

- ‚úÖ —Ç–µ–ø–µ—Ä—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ –Ω–æ–≤–æ–π –≤–µ—Ç–∫–µ (–≤—Ä–µ–º–µ–Ω–Ω–æ–π —à–∫–∞–ª–µ), –≥–¥–µ –∫–æ–º–º–∏—Ç–∞ `872fa7e`  –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- ‚ùå –Ω–µ –º–æ–∂–µ–º –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å –≤ —Ç–µ–∫—É—â–µ–π –≤–µ—Ç–∫–µ, —Ç–∞–∫–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç

# –æ—Ç–º–µ–Ω–∞ –∫–æ–º–º–∏—Ç–∞ —Å –ø–æ–º–æ—â—å—é [[git revert]]

**`git revert`** - –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –æ—Ç–º–µ–Ω—ã **–ø—É–±–ª–∏—á–Ω—ã—Ö** –∫–æ–º–º–∏—Ç–æ–≤

- –°–æ–∑–¥–∞—Å—Ç –Ω–æ–≤—ã–π –∫–æ–º–º–∏—Ç –≤ —Ç–µ–∫—É—â–µ–π –∏—Å—Ç–æ—Ä–∏–∏ –≤–µ—Ç–∫–∏
- –° –æ–ø–µ—Ä–∞—Ü–∏–µ–π, –æ–±—Ä–∞—Ç–Ω–æ–π –ø–æ—Å–ª–µ–¥–Ω–µ–º—É –∫–æ–º–º–∏—Ç—É


```Bash
git revert HEAD

git log --oneline # —Ä–µ–∑—É–ª—å—Ç–∞—Ç
# !!!! e2f9a78 Revert "Try something crazy" !!!!
# 872fa7e Try something crazy
# a1e8fb5 Make some important changes to hello.txt
# 435b61d Create hello.txt
# 9773e52 Initial import
```

- ‚úÖ –Ω–æ–≤—ã–π –∫–æ–º–º–∏—Ç `e2f9a78` –æ—Ç–º–µ–Ω–∏–ª –∏–∑–º–µ–Ω–µ–Ω–∏—è `872fa7e`
- ‚úÖ –º–æ–∂–µ–º –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å –≤ —Ç–µ–∫—É—â–µ–π –≤–µ—Ç–∫–µ
- ‚ùå –Ω–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ ¬´—á–∏—Å—Ç–∞—è¬ª –∏—Å—Ç–æ—Ä–∏—è Git
- ‚úÖ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –æ—Ç–º–µ–Ω—ã  –≤ –æ–±—â–∏—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö (–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)

# –æ—Ç–º–µ–Ω–∞ –∫–æ–º–º–∏—Ç–∞ —Å –ø–æ–º–æ—â—å—é `git reset`

**`git reset`** - –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –æ—Ç–º–µ–Ω—ã **–ª–æ–∫–∞–ª—å–Ω—ã—Ö** –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Ä–∞–∑–¥–µ–ª–µ –ø—Ä–æ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –∏ —Ä–∞–±–æ—á–µ–º –∫–∞—Ç–∞–ª–æ–≥–µ

```Bash
git reset --hard a1e8fb5 

git log --oneline # —Ä–µ–∑—É–ª—å—Ç–∞—Ç
# a1e8fb5 Make some important changes to hello.txt
# 435b61d Create hello.txt
# 9773e52 Initial import
```

- ‚úÖ –∫–æ–º–º–∏—Ç—ã `e2f9a78` –∏ `872fa7e` –±–æ–ª—å—à–µ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –∏—Å—Ç–æ—Ä–∏–∏
- ‚úÖ –º–æ–∂–µ–º –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å –≤ —Ç–µ–∫—É—â–µ–π –≤–µ—Ç–∫–µ, —Å–ª–æ–≤–Ω–æ ¬´–±–µ–∑—É–º–Ω—ã—Ö¬ª –∫–æ–º–º–∏—Ç–æ–≤ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –±—ã–ª–æ
- ‚úÖ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ ¬´—á–∏—Å—Ç–∞—è¬ª –∏—Å—Ç–æ—Ä–∏—è Git
- ‚ùå –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –æ—Ç–º–µ–Ω—ã  –≤ –æ–±—â–∏—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö (–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)

# –æ—Ç–º–µ–Ω–∞ –∫–æ–º–º–∏—Ç–∞ —Å –ø–æ–º–æ—â—å—é `git commit --amend`

**`git commit --amend`** - –æ—Ç–º–µ–Ω—è–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ–º–º–∏—Ç –∏ —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π

```Bash
git commit --amend -m 'new comment' # (!!!—Å–æ–∑–¥–∞–µ—Ç –ù–û–í–´–ô) 
# git reset HEAD~ # –ø–µ—Ä–µ–≤–æ–¥–∏—Ç HEAD –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—è
# git add .       # –æ–±–Ω–æ–≤–ª—è–µ—Ç –∏–Ω–¥–µ–∫—Å
# git commit      # –æ–±–Ω–æ–≤–ª—è–µ—Ç –∫–æ–º–º–∏—Ç (!!!—Å–æ–∑–¥–∞–µ—Ç –ù–û–í–´–ô) 

git log --oneline # —Ä–µ–∑—É–ª—å—Ç–∞—Ç
# !!! 8sds432 new comment !!!
# a1e8fb5 Make some important changes to hello.txt
# 435b61d Create hello.txt
# 9773e52 Initial import
```

- ‚úÖ –Ω–æ–≤—ã–π –∫–æ–º–º–∏—Ç `8sds432` –æ—Ç–º–µ–Ω–∏–ª –∏–∑–º–µ–Ω–µ–Ω–∏—è `872fa7e`
- ‚úÖ –º–æ–∂–µ–º –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å –≤ —Ç–µ–∫—É—â–µ–π –≤–µ—Ç–∫–µ
- ‚úÖ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ ¬´—á–∏—Å—Ç–∞—è¬ª –∏—Å—Ç–æ—Ä–∏—è Git
- ‚ùå –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –æ—Ç–º–µ–Ω—ã  –≤ –æ–±—â–∏—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö (–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)
